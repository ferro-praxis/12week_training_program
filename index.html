<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#DC2626">
    <meta name="description" content="Jay Cutler 12-Week Home Training Tracker - Your complete workout companion">
    <title>Jay Cutler 12-Week Training Tracker</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Vue.js 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Loading screen */
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #DC2626 0%, #991B1B 100%);
            display: flex;
            align-items: center;
            justify-center;
            flex-direction: column;
            color: white;
            z-index: 9999;
        }
        
        #loading h1 {
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }
        
        #loading .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Prevent pull-to-refresh on mobile */
        body {
            overscroll-behavior-y: contain;
        }
        
        /* Smooth transitions */
        * {
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        
        /* Touch feedback */
        .touch-feedback:active {
            transform: scale(0.98);
            opacity: 0.9;
        }
        
        /* Bottom navigation safe area */
        .bottom-nav {
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
    
    <script>
        // Tailwind config
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#FEF2F2',
                            100: '#FEE2E2',
                            200: '#FECACA',
                            300: '#FCA5A5',
                            400: '#F87171',
                            500: '#EF4444',
                            600: '#DC2626',
                            700: '#B91C1C',
                            800: '#991B1B',
                            900: '#7F1D1D',
                        }
                    }
                }
            },
            darkMode: 'class'
        }
    </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <!-- Loading Screen -->
    <div id="loading">
        <h1>JAY CUTLER</h1>
        <div class="spinner"></div>
        <p style="margin-top: 1rem;">Loading your training tracker...</p>
    </div>
    
    <!-- App Container -->
    <div id="app"></div>
    
    <!-- Error message if scripts fail -->
    <script>
        setTimeout(function() {
            if (document.getElementById('loading') && document.getElementById('app').innerHTML === '') {
                document.getElementById('loading').innerHTML = 
                    '<h1>⚠️ Loading Error</h1>' +
                    '<p>Failed to load the application.</p>' +
                    '<p style="margin-top: 1rem;">Please check:</p>' +
                    '<ul style="text-align: left; margin-top: 0.5rem;">' +
                    '<li>• JavaScript is enabled</li>' +
                    '<li>• All files uploaded correctly</li>' +
                    '<li>• Check browser console (F12) for errors</li>' +
                    '</ul>' +
                    '<button onclick="location.reload()" style="margin-top: 1rem; padding: 10px 20px; background: white; color: #DC2626; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Reload Page</button>';
            }
        }, 10000);
    </script>
    
       <!-- Load program data -->
    <script src="js/program-data.js"></script>
    
    <!-- Verify PROGRAMS loaded -->
    <script>
        if (typeof PROGRAMS === 'undefined') {
            console.error('CRITICAL: program-data.js did not load!');
            document.getElementById('loading').innerHTML = 
                '<h1 style="color: white;">⚠️ Loading Error</h1>' +
                '<p style="color: white;">Program data failed to load.</p>' +
                '<p style="color: white;">Please refresh the page.</p>' +
                '<button onclick="location.reload()" style="margin-top: 20px; padding: 10px 20px; background: white; color: #DC2626; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Refresh</button>';
        } else {
            console.log('✓ PROGRAMS loaded successfully');
        }
    </script>
    
    <!-- Load main app -->
    <script src="js/app.js"></script>
    
    <!-- Hide loading screen when app mounts -->
    <script>
        setTimeout(function() {
            var loading = document.getElementById('loading');
            var app = document.getElementById('app');
            if (app && app.innerHTML.trim() !== '') {
                if (loading) {
                    loading.style.opacity = '0';
                    loading.style.transition = 'opacity 0.3s';
                    setTimeout(function() {
                        loading.style.display = 'none';
                    }, 300);
                }
            }
        }, 1000);
    </script>
</body>
</html>
